{"version":3,"sources":["onepagecrackedoo.js"],"names":[],"mappings":"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","file":"onepagecrackedoo-compiled.js","sourcesContent":["var CrackedArticle = (function () {\n    function CrackedArticle(url) {\n        this.url = url;\n        this.pages = [];\n        var urlsOfThePages = this.urlsOfThisArticlesPages();\n        var firstPage = new CrackedArticlePage(urlsOfThePages[0], 0, true);\n        this.pages.push(firstPage);\n        for (var i = 2; i <= urlsOfThePages.length; i++) {\n            var page = new CrackedArticlePage(urlsOfThePages[i - 1], i, false);\n            this.pages.push(page);\n        }\n    }\n    CrackedArticle.prototype.loadAllPages = function () {\n        var _this = this;\n        for (var i = 1; i < this.pages.length; i++) {\n            this.pages[i].load(function () {\n                if (_this.areAllPagesLoaded()) {\n                    _this.appendOtherPagesToTheFirstPage();\n                    _this.repositionSocialAndPaginationButtons();\n                    _this.updatePagesCount();\n                    _this.replaceNextPageWithNextArticle();\n                }\n            });\n        }\n    };\n    CrackedArticle.prototype.updatePagesCount = function () {\n        var totalPagesNumberElement = document.getElementsByClassName(\"paginationNumber\")[1];\n        totalPagesNumberElement.textContent = \"1\";\n    };\n    CrackedArticle.prototype.repositionSocialAndPaginationButtons = function () {\n        var likeOnFacebookWidget = document.getElementsByClassName(\"FacebookLike\")[0];\n        var paginationNavBar = document.getElementsByClassName(\"PaginationContent\")[0];\n        var shareButtons = document.getElementsByClassName(\"socialShareAfterContent\")[0];\n        likeOnFacebookWidget.parentElement.removeChild(likeOnFacebookWidget);\n        paginationNavBar.parentElement.removeChild(paginationNavBar);\n        shareButtons.parentElement.removeChild(shareButtons);\n        this.pages[0].getContentElement().parentNode.appendChild(likeOnFacebookWidget);\n        this.pages[0].getContentElement().parentNode.appendChild(paginationNavBar);\n        this.pages[0].getContentElement().parentNode.appendChild(shareButtons);\n    };\n    CrackedArticle.prototype.appendOtherPagesToTheFirstPage = function () {\n        for (var i = 1; i < this.pages.length; i++) {\n            this.pages[i].loadAllImages();\n            this.pages[0].appendContentFromPage(this.pages[i]);\n        }\n    };\n    CrackedArticle.prototype.areAllPagesLoaded = function () {\n        for (var _i = 0, _a = this.pages; _i < _a.length; _i++) {\n            var page = _a[_i];\n            if (!page.isLoaded()) {\n                return false;\n            }\n        }\n        return true;\n    };\n    CrackedArticle.prototype.getUrl = function () {\n        return this.url;\n    };\n    CrackedArticle.prototype.numberOfPages = function () {\n        return Number(document.getElementsByClassName(\"paginationNumber\")[1].textContent);\n    };\n    CrackedArticle.prototype.urlsOfThisArticlesPages = function () {\n        var urlsOfAllPages = [];\n        urlsOfAllPages.push(this.url);\n        var titlePortionOfFirstPage = this.titlePortionOfTheUrl();\n        for (var i = 2; i <= this.numberOfPages(); i++) {\n            var titlePortionOfThisPage = titlePortionOfFirstPage + \"_p\" + i;\n            var urlOfNextPage = this.url.replace(titlePortionOfFirstPage, titlePortionOfThisPage);\n            urlsOfAllPages.push(urlOfNextPage);\n        }\n        return urlsOfAllPages;\n    };\n    CrackedArticle.prototype.titlePortionOfTheUrl = function () {\n        var regexp = /http:\\/\\/www.cracked.com\\/(?:(?:blog|article)\\/)?([^\\/]*)(?:\\/|\\.html).*/;\n        var info = regexp.exec(this.url);\n        return info[1];\n    };\n    CrackedArticle.prototype.replaceNextPageWithNextArticle = function () {\n        var nextPageAnchor = document.getElementsByClassName(\"next\")[0];\n        var parent = nextPageAnchor.parentElement;\n        parent.removeChild(nextPageAnchor);\n        parent.appendChild(this.getNextArticleAnchor());\n    };\n    CrackedArticle.prototype.getNextArticleAnchor = function () {\n        return this.pages[this.pages.length - 1].getHTMLDocument().getElementsByClassName(\"blueArrowNext\")[0];\n    };\n    return CrackedArticle;\n})();\nvar CrackedArticlePage = (function () {\n    function CrackedArticlePage(pageUrl, pageNumber, isFirstPage) {\n        this.url = pageUrl;\n        this.pageNumber = pageNumber;\n        if (isFirstPage) {\n            this.htmlDocument = document;\n            this.loaded = true;\n        }\n        else {\n            this.loaded = false;\n            this.htmlDocument = null;\n        }\n    }\n    CrackedArticlePage.prototype.isLoaded = function () {\n        return this.loaded;\n    };\n    CrackedArticlePage.prototype.appendContentFromPage = function (page) {\n        this.getContentElement().parentNode.appendChild(page.getContentElement());\n    };\n    CrackedArticlePage.prototype.getContentElement = function () {\n        var article = this.htmlDocument.getElementsByTagName(\"article\")[0];\n        if (article !== null && typeof (article) !== \"undefined\") {\n            var bodySection = article.getElementsByTagName(\"section\")[0];\n            return bodySection.getElementsByTagName(\"section\")[0];\n        }\n    };\n    CrackedArticlePage.prototype.getHTMLDocument = function () {\n        return this.htmlDocument;\n    };\n    CrackedArticlePage.prototype.load = function (onDone) {\n        var _this = this;\n        var requestForPage = new XMLHttpRequest();\n        requestForPage.open(\"GET\", this.url, true);\n        requestForPage.onload = function () {\n            if (requestForPage.readyState === XMLHttpRequest.DONE) {\n                if (requestForPage.status === 200) {\n                    var parser = new DOMParser();\n                    _this.htmlDocument = parser.parseFromString(requestForPage.response, \"text/html\");\n                    _this.loaded = true;\n                    onDone();\n                }\n            }\n        };\n        requestForPage.send(null);\n    };\n    CrackedArticlePage.prototype.getUrl = function () {\n        return this.url;\n    };\n    CrackedArticlePage.prototype.getPageNumber = function () {\n        return this.pageNumber;\n    };\n    CrackedArticlePage.prototype.loadAllImages = function () {\n        var allImageElements = this.htmlDocument.getElementsByTagName(\"img\");\n        for (var i = 0; i < allImageElements.length; i++) {\n            var imageElement = allImageElements[i];\n            var imageUrl = imageElement.getAttribute(\"data-img\");\n            imageElement.removeAttribute(\"data-img\");\n            imageElement.src = imageUrl;\n        }\n    };\n    return CrackedArticlePage;\n})();\nwindow.onload = function () {\n    var article = new CrackedArticle(window.location.href);\n    article.loadAllPages();\n};\n///**\n// * Created by pablo on 20/12/15.\n// */\n//const articleElement = getArticleElementFromDocument(document);\n//let numberOfPages = 0;\n//const articlesFromOtherPages : HTMLElement[] = [];\n//const INDEX_OF_SECOND_PAGE = 2;\n//let goToNextArticleAnchor : Element = null;\n//\n//if (articleElement !== null && typeof (articleElement) !== \"undefined\") {\n//    numberOfPages = findNumberOfPages();\n//    const urlsOfFollowingPages = findUrlsOfFollowingPages(window.location.href);\n//\n//    for (let i = INDEX_OF_SECOND_PAGE; i <= numberOfPages; i++) {\n//        fetchContentFromPageAndAppendWhenReadyMobile(urlsOfFollowingPages[i - INDEX_OF_SECOND_PAGE], i);\n//    }\n//\n//}\n//function findNumberOfPages () : number {\n//    return Number(document.getElementsByClassName(\"paginationNumber\")[1].textContent);\n//}\n//\n//function findUrlsOfFollowingPages (urlOfFirstPage) : string [] {\n//    let titlePortionOfFirstPage = findTitlePortionOfTheUrl(urlOfFirstPage);\n//    let urlsOfAllPages = [];\n//    for (let i = 2; i <= numberOfPages; i++) {\n//        const titlePortionOfThisPage = titlePortionOfFirstPage + \"_p\" + i;\n//        const urlOfNextPage = urlOfFirstPage.replace(titlePortionOfFirstPage, titlePortionOfThisPage);\n//        urlsOfAllPages.push(urlOfNextPage);\n//    }\n//    return urlsOfAllPages;\n//}\n//\n//\n//function findTitlePortionOfTheUrl (urlOfFirstPage) : string {\n//    const regexp = /http:\\/\\/www.cracked.com\\/(?:(?:blog|article)\\/)?([^\\/]*)(?:\\/|\\.html).*/;\n//    let info = regexp.exec(urlOfFirstPage);\n//    return info[1];\n//}\n//function fetchContentFromPageAndAppendWhenReadyMobile(url: string, pageNumber: number) : void {\n//    let requestForPage = new XMLHttpRequest();\n//    requestForPage.open(\"GET\", url, true);\n//    requestForPage.onload = function () {\n//        if (requestForPage.readyState === XMLHttpRequest.DONE) {\n//            if (requestForPage.status === 200) {\n//                const parser = new DOMParser();\n//                const parsedDocument = parser.parseFromString(requestForPage.response, \"text/html\");\n//                articlesFromOtherPages[pageNumber] = getArticleElementFromDocument(parsedDocument);\n//\n//                if (pageNumber === numberOfPages) { // are we on the last page?\n//                    goToNextArticleAnchor = parsedDocument.getElementsByClassName(\"blueArrowNext\")[0];\n//                }\n//\n//                if (areAllPagesLoaded()) {\n//                    appendContentToThisPage();\n//                    repositionSocialAndPaginationButtons();\n//                    updatePagesCount();\n//                    replaceNextPageWithNextArticle();\n//                }\n//\n//            }\n//        }\n//    };\n//\n//    requestForPage.send(null);\n//\n//}\n//function fetchContentFromPageAndAppendWhenReady (url: string, pageNumber: number) : void {\n//\n//    let requestForPage = new XMLHttpRequest();\n//    requestForPage.open(\"GET\", url, true);\n//    requestForPage.onload = function () {\n//        if (requestForPage.readyState === XMLHttpRequest.DONE) {\n//            if (requestForPage.status === 200) {\n//                const parser = new DOMParser();\n//                const parsedDocument = parser.parseFromString(requestForPage.response, \"text/html\");\n//                articlesFromOtherPages[pageNumber] = getArticleElementFromDocument(parsedDocument);\n//\n//                if (pageNumber === numberOfPages) { // are we on the last page?\n//                    goToNextArticleAnchor = parsedDocument.getElementsByClassName(\"blueArrowNext\")[0];\n//                }\n//\n//                if (areAllPagesLoaded()) {\n//                    appendContentToThisPage();\n//                    repositionSocialAndPaginationButtons();\n//                    updatePagesCount();\n//                    replaceNextPageWithNextArticle();\n//                }\n//\n//            }\n//        }\n//    };\n//\n//    requestForPage.send(null);\n//\n//}\n//function repositionSocialAndPaginationButtons () : void {\n//    const likeOnFacebookWidget = document.getElementsByClassName(\"FacebookLike\")[0];\n//    const paginationNavBar = document.getElementsByClassName(\"PaginationContent\")[0];\n//    const shareButtons = document.getElementsByClassName(\"socialShareAfterContent\")[0];\n//    likeOnFacebookWidget.parentElement.removeChild(likeOnFacebookWidget);\n//    paginationNavBar.parentElement.removeChild(paginationNavBar);\n//    shareButtons.parentElement.removeChild(shareButtons);\n//\n//    articleElement.parentNode.appendChild(likeOnFacebookWidget);\n//    articleElement.parentNode.appendChild(paginationNavBar);\n//    articleElement.parentNode.appendChild(shareButtons);\n//}\n//\n//function updatePagesCount () : void {\n//    const totalPagesNumberElement = document.getElementsByClassName(\"paginationNumber\")[1];\n//    totalPagesNumberElement.textContent = \"1\";\n//}\n//function replaceNextPageWithNextArticle () : void {\n//    const nextPageAnchor = document.getElementsByClassName(\"next\")[0];\n//    const parent = nextPageAnchor.parentElement;\n//    parent.removeChild(nextPageAnchor);\n//    parent.appendChild(goToNextArticleAnchor);\n//\n//}\n//\n//function areAllPagesLoaded () : boolean {\n//    for (let i = INDEX_OF_SECOND_PAGE; i <= numberOfPages; i++) {\n//        if (typeof (articlesFromOtherPages[i]) === \"undefined\") {\n//            return false;\n//        }\n//    }\n//    return true;\n//}\n//\n//function appendContentToThisPage () : void {\n//    for (let i = INDEX_OF_SECOND_PAGE; i <= numberOfPages; i++) {\n//        const articleSectionFromTheOtherPage = articlesFromOtherPages[i];\n//        loadAllImagesFromArticleSection(articleSectionFromTheOtherPage);\n//        articleElement.parentNode.appendChild(articleSectionFromTheOtherPage);\n//    }\n//}\n//\n//function loadAllImagesFromArticleSection (section: HTMLElement) : void {\n//    const allImageElements = section.getElementsByTagName(\"img\");\n//    for (let i = 0; i < allImageElements.length; i++) {\n//        const imageElement = allImageElements[i];\n//        const imageUrl = imageElement.getAttribute(\"data-img\");\n//        imageElement.removeAttribute(\"data-img\");\n//        imageElement.src = imageUrl;\n//    }\n//}\n//function getArticleSectionElementFromDocument (htmlDocument: HTMLDocument): any {\n//    const article = htmlDocument.getElementsByTagName(\"article\")[0];\n//    if (article !== null && typeof (article) !== \"undefined\") {\n//        const bodySection = article.getElementsByTagName(\"section\")[0];\n//        return bodySection.getElementsByTagName(\"section\")[0];\n//    }\n//}\n//function getArticleElementFromDocument (htmlDocument: HTMLDocument): HTMLElement {\n//    return htmlDocument.getElementsByTagName(\"article\")[0];\n//}\n//# sourceMappingURL=onepagecrackedoo.js.map"]}